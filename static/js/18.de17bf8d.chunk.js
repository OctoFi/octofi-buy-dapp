(this.webpackJsonpswitchdex=this.webpackJsonpswitchdex||[]).push([[18],{2081:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(329),a=t(328),c=t(269);function o(){var e=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    padding: ",";\n\n    @media (min-width: ",") {\n        flex-direction: row;\n        height: calc(100% - ",");\n    }\n"]);return o=function(){return e},e}var i=a.c.div(o(),c.d.mainPadding,c.c.xl,c.d.footerHeight)},2086:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t(2076),a=t(329),c=t(10),o=t.n(c),i=t(328),u=t(269);function l(){var e=Object(a.a)(["\n    flex-grow: 0;\n    flex-shrink: 1;\n    max-width: 100%;\n    min-width: 0;\n\n    @media (min-width: ",") {\n        flex-grow: 1;\n    }\n\n    &:first-child {\n        @media (min-width: ",") {\n            margin-right: 10px;\n        }\n    }\n\n    &:last-child {\n        @media (min-width: ",") {\n            margin-left: 10px;\n        }\n    }\n"]);return l=function(){return e},e}var s=i.c.div(l(),u.c.xl,u.c.xl,u.c.xl),d=function(e){var n=e.children,t=Object(r.a)(e,["children"]);return o.a.createElement(s,t,n)}},2088:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t(29),a=t(73),c=t(61),o=t(72),i=t(329),u=t(10),l=t.n(u),s=t(328),d=t(30);function m(){var e=Object(i.a)(["\n    ::-webkit-inner-spin-button,\n    ::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n    -moz-appearance: textfield;\n"]);return m=function(){return e},e}var b=s.c.input(m()),f=function(e){function n(){var e,t;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(t=Object(a.a)(this,(e=Object(c.a)(n)).call.apply(e,[this].concat(i)))).state={currentValueStr:t.props.value?Object(d.e)(t.props.value,t.props.decimals,t.props.valueFixedDecimals):""},t._textInput=void 0,t.componentDidMount=function(){t.props.autofocus&&t._textInput.focus()},t.render=function(){var e=t.state.currentValueStr,n=t.props,r=n.decimals,a=n.step,c=n.min,o=n.max,i=n.className,u=n.placeholder,s=n.valueFixedDecimals,m=void 0!==s?s:2,f=a&&Object(d.e)(a,r,m),p=c&&Object(d.e)(c,r,m),g=o&&Object(d.e)(o,r,m);return l.a.createElement(b,{className:i,max:g,min:p,onChange:t._updateValue,ref:function(e){return t._textInput=e},step:f,type:"number",value:e,placeholder:u})},t._updateValue=function(e){var n=t.props,r=n.decimals,a=n.onChange,c=n.min,o=n.max,i=e.currentTarget.value,u=Object(d.h)(i||"0",r);c&&u.isLessThan(c)||o&&u.isGreaterThan(o)||(a(u),t.setState({currentValueStr:i}))},t}return Object(o.a)(n,e),n}(l.a.Component);f.defaultProps={placeholder:"0.00"},f.getDerivedStateFromProps=function(e,n){var t=e.decimals,r=e.value,a=e.valueFixedDecimals,c=n.currentValueStr;return r?r&&!Object(d.h)(c||"0",t).eq(r)?{currentValueStr:Object(d.e)(r,t,a)}:null:{currentValueStr:""}}},2090:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var r=t(329),a=t(10),c=t.n(a),o=t(453),i=t.n(o),u=t(181),l=t(328),s=t(1),d=t(11),m=t(7),b=t(2),f=t(2078),p=t(2082);function g(){var e=Object(r.a)(["\n    color: ",";\n    text-decoration: none;\n"]);return g=function(){return e},e}function h(){var e=Object(r.a)(["\n    width: 100%;\n    margin: 10px;\n"]);return h=function(){return e},e}function j(){var e=Object(r.a)(["\n    color: ",";\n    font-size: 20px;\n    font-weight: 600;\n    line-height: 1.2;\n    margin: 0 0 25px;\n    text-align: center;\n"]);return j=function(){return e},e}function O(){var e=Object(r.a)(["\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    max-height: 100%;\n    overflow: auto;\n    width: 310px;\n"]);return O=function(){return e},e}var v=l.c.div(O()),x=l.c.h1(j(),(function(e){return e.theme.componentsTheme.textColorCommon})),k=Object(l.c)(f.a)(h()),w=l.c.a(g(),(function(e){return e.theme.componentsTheme.buttonTextColor})),S=Object(l.e)((function(e){var n=e.theme,t=Object(u.d)(),r=Object(u.e)(m.db),a=Object(u.e)(m.F),o=function(){t(Object(d.ib)(!1))},l=c.a.createElement(c.a.Fragment,null,c.a.createElement(x,null,"Buy ETH With:"),c.a.createElement(k,{onClick:function(){var e="https://pay.sendwyre.com?destCurrency=ETH&dest=".concat(a,"&paymentMethod=apple-pay&accountId=").concat(s.qb);window.open(e),o()},variant:b.d.Portis},c.a.createElement(w,null,"Apple Pay")),c.a.createElement(k,{onClick:function(){t(Object(d.Mb)("DEBIT_CARD")),t(Object(d.jb)(!0)),o()},variant:b.d.Torus},c.a.createElement(w,null,"Debit Card")),c.a.createElement(k,{onClick:function(){t(Object(d.Mb)("CARDS")),t(Object(d.jb)(!0)),o()},variant:b.d.Fortmatic},c.a.createElement(w,null,"Credit Card")));return c.a.createElement(i.a,{isOpen:r,style:n.modalTheme},c.a.createElement(p.a,{onClick:o}),c.a.createElement(v,null,l))}))},2161:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t(52),a=t(10),c=function(e,n){var t=Object(a.useState)(e),c=Object(r.a)(t,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){var t=setTimeout((function(){i(e)}),n);return function(){clearTimeout(t)}}),[e]),o}},2162:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var r=t(329),a=t(10),c=t.n(a),o=t(181),i=t(328),u=t(11),l=t(7),s=t(457),d=t(2),m=t(2092);function b(){var e=Object(r.a)(["\n    cursor: pointer;\n"]);return b=function(){return e},e}function f(){var e=Object(r.a)(["\n    &:after {\n        background-color: ",";\n        content: '';\n        height: 26px;\n        margin-left: 17px;\n        margin-right: 17px;\n        width: 1px;\n    }\n    &:last-child:after {\n        display: none;\n    }\n"]);return f=function(){return e},e}Object(i.b)(f(),(function(e){return e.theme.componentsTheme.topbarSeparatorColor}));var p=Object(i.c)(m.a)(b()),g=function(){var e=Object(o.e)(l.Sb),n=Object(o.d)(),t=function(){n(Object(u.Ec)(d.q.Connecting))};return c.a.createElement(c.a.Fragment,null,function(){switch(e){case d.q.Locked:return c.a.createElement(m.a,{fontSize:m.c.Large,text:s.a.mmLocked,onClick:t,icon:m.b.Lock});case d.q.NotInstalled:return c.a.createElement(m.a,{fontSize:m.c.Large,text:s.a.mmNotInstalled,icon:m.b.Metamask});case d.q.Connect:return c.a.createElement(p,{className:"connect-wallet",onClick:t,fontSize:m.c.Large,text:"Connect Wallet",icon:m.b.Lock});case d.q.Connecting:return c.a.createElement(m.a,{fontSize:m.c.Large,text:"Connecting Wallet",icon:m.b.Lock});case d.q.Loading:return c.a.createElement(m.a,{fontSize:m.c.Large,text:s.a.mmLoading,icon:m.b.Wallet,onClick:t});case d.q.Error:return c.a.createElement(m.a,{fontSize:m.c.Large,text:s.a.mmWrongNetwork,onClick:t,icon:m.b.Warning});case d.q.Done:return null;default:return e}}())}},2424:function(e,n,t){"use strict";t.r(n);var r=t(329),a=t(10),c=t.n(a),o=t(328),i=t(269),u=t(2093),l=t(2090),s=t(2095),d=t(2086),m=t(2081),b=t(5),f=t(0),p=t.n(f),g=t(52),h=t(9),j=t(181),O=t(94),v=t(1),x=t(11),k=t(7),w=t(13),S=t(30),E=t(2),y=t(2088),C=t(2078),T=t(2083),B=t(2092),q=t(2161),A=t(2162),F=t(29),L=t(73),P=t(61),M=t(72),_=t(56),D=t(2084);function z(){var e=Object(r.a)(["\n    color: ",";\n    background-color: ",";\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    margin-right: 3px;\n    background: ",";\n    animation: "," 1.3s linear infinite;\n\n    &:nth-child(2) {\n        animation-delay: -1.1s;\n    }\n\n    &:nth-child(3) {\n        animation-delay: -0.9s;\n    }\n"]);return z=function(){return e},e}function N(){var e=Object(r.a)(["\n    0%, 60%, 100% {\n        transform: initial;\n    }\n    30% {\n        transform: translateY(-15px);\n    }\n"]);return N=function(){return e},e}function I(){var e=Object(r.a)([""]);return I=function(){return e},e}function R(){var e=Object(r.a)(["\n    font-weight: 700;\n    display: flex;\n    :hover {\n        cursor: pointer;\n    }\n"]);return R=function(){return e},e}function U(){var e=Object(r.a)(["\n    font-weight: 700;\n    display: flex;\n"]);return U=function(){return e},e}function V(){var e=Object(r.a)([""]);return V=function(){return e},e}function W(){var e=Object(r.a)(["\n    font-size: 14px;\n    font-weight: 500;\n    line-height: normal;\n    margin: 0;\n"]);return W=function(){return e},e}function G(){var e=Object(r.a)(["\n    color: ",";\n    font-size: 14px;\n    font-weight: 500;\n    line-height: normal;\n    margin: 0;\n"]);return G=function(){return e},e}function Y(){var e=Object(r.a)(["\n    align-items: flex-end;\n    display: flex;\n    justify-content: space-between;\n    margin: 5px 0 10px 0;\n"]);return Y=function(){return e},e}function H(){var e=Object(r.a)(["\n    margin-left: 5px;\n"]);return H=function(){return e},e}function Z(){var e=Object(r.a)(["\n    font-feature-settings: 'tnum' 1;\n    font-weight: bold;\n"]);return Z=function(){return e},e}function Q(){var e=Object(r.a)(["\n    color: ",";\n    flex-shrink: 0;\n    font-feature-settings: 'tnum' 1;\n    font-size: 14px;\n    line-height: 1.2;\n    white-space: nowrap;\n"]);return Q=function(){return e},e}function J(){var e=Object(r.a)(["\n    align-items: center;\n    border-top: dashed 1px ",";\n    display: flex;\n    justify-content: space-between;\n    padding: 12px 0;\n    position: relative;\n    z-index: 1;\n\n    &:last-of-type {\n        margin-bottom: 20px;\n    }\n"]);return J=function(){return e},e}var $=o.c.div(J(),(function(e){return e.theme.componentsTheme.borderColor})),K=o.c.div(Q(),(function(e){return e.theme.componentsTheme.textColorCommon})),X=Object(o.c)(K)(Z()),ee=Object(o.c)(D.b)(H()),ne=(o.c.div(Y()),o.c.label(G(),(function(e){return e.color||e.theme.componentsTheme.textColorCommon}))),te=o.c.span(W()),re=(Object(o.c)(ne)(V()),Object(o.c)(ne)(U())),ae=Object(o.c)(ne)(R()),ce=o.c.div(I()),oe=Object(o.d)(N()),ie=o.c.span(z(),(function(e){return e.theme.componentsTheme.textColorCommon}),(function(e){return e.theme.componentsTheme.textColorCommon}),(function(e){return e.theme.componentsTheme.textColorCommon}),oe),ue=function(){return c.a.createElement(ce,null,c.a.createElement(ie,null),c.a.createElement(ie,null),c.a.createElement(ie,null))},le=function(e){function n(){var e,t;Object(F.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(L.a)(this,(e=Object(P.a)(n)).call.apply(e,[this].concat(a)))).state={makerFeeAmount:v.rb,takerFeeAmount:v.rb,makerFeeAssetData:h.NULL_BYTES,takerFeeAssetData:h.NULL_BYTES,quoteTokenAmount:v.rb,canOrderBeFilled:!0,maxAmount:v.rb,price:v.rb,geckoPrice:v.rb},t.componentDidUpdate=function(e){var n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=t.props).tokenPrice===e.tokenPrice&&n.tokenAmount===e.tokenAmount&&n.quote===e.quote&&n.orderSide===e.orderSide&&n.quoteState===e.quoteState&&n.quoteState===e.quoteState){r.next=5;break}if(n.quoteState!==E.o.Done){r.next=5;break}return r.next=5,p.a.awrap(t._updateOrderDetailsState());case 5:case"end":return r.stop()}}))},t.componentDidMount=function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(t._updateOrderDetailsState());case 2:case"end":return e.stop()}}))},t.render=function(){var e=t._getCostStringForRender(),n=t._getCostLabelStringForRender(),r=t._getMedianPriceStringForRender(),a=t._getPriceMarketRender(),o=t._getPriceSlippage();return c.a.createElement(c.a.Fragment,null,c.a.createElement($,null,c.a.createElement(re,null,n,c.a.createElement(ee,{description:"Amount without gas and fees"})),c.a.createElement(X,null,e)),c.a.createElement($,null,c.a.createElement(ae,{onClick:function(){return t._switchPrice()}},"Price"),c.a.createElement(X,null,o," ",r)),c.a.createElement($,null,c.a.createElement(re,null,"Price by Coingecko:",c.a.createElement(ee,{description:"Reference Price"})),c.a.createElement(X,null,a)))},t._switchPrice=function(){var e,n,r;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=t.state,n=e.price,r=e.geckoPrice,n.isZero()||t.setState({price:new h.BigNumber(1).dividedBy(n)}),r.isZero()||t.setState({geckoPrice:new h.BigNumber(1).dividedBy(r)});case 3:case"end":return a.stop()}}))},t._getPriceSlippage=function(){var e=t.state,n=e.price,r=e.geckoPrice,a=t.props.quoteState;if(!n||!r)return null;if(a===E.o.Loading)return null;if(!n.isZero()&&!r.isZero()){var o=r.minus(n).dividedBy(r).multipliedBy(100);return c.a.createElement(te,null,"(",o.toFixed(2),"%) ")}return null},t._updateOrderDetailsState=function(){var e,n,r,a,c,o,i,u,l,s,d,m,b,f,g,j,O,v,x;return p.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(e=t.props,n=e.quote,r=e.orderSide,a=e.baseToken,c=e.quoteToken,o=e.tokenPrices,n){p.next=4;break}return t.setState({canOrderBeFilled:!1}),p.abrupt("return");case 4:i=r===E.j.Sell,u=n.bestCaseQuoteInfo,l=n.worstCaseQuoteInfo,s=n.takerAssetData,d=l.feeTakerAssetAmount,m=i?u.makerAssetAmount:u.takerAssetAmount,b=i?u.takerAssetAmount:u.makerAssetAmount,f=new h.BigNumber(Object(S.e)(m,c.decimals,18)),g=new h.BigNumber(Object(S.e)(b,a.decimals,18)),j=f.div(g),o&&(v=o.find((function(e){return e.c_id===c.c_id})),x=o.find((function(e){return e.c_id===a.c_id})),v&&x&&(O=x.price_usd.div(v.price_usd))),t.setState({takerFeeAmount:d,takerFeeAssetData:s,quoteTokenAmount:m,canOrderBeFilled:!0,price:j,geckoPrice:O});case 16:case"end":return p.stop()}}))},t._getCostStringForRender=function(){var e,n=t.state.canOrderBeFilled,r=t.props,a=r.quoteToken,o=r.quoteState,i=r.tokenPrices;if(o===E.o.Loading)return c.a.createElement(ue,null);if(!n||o===E.o.Error)return"---";if(i){var u=i.find((function(e){return e.c_id===a.c_id}));u&&(e=u.price_usd)}var l=t.state.quoteTokenAmount,s=Object(S.e)(l,a.decimals),d=Object(S.e)(l,a.decimals,a.displayDecimals);if(e){var m=new h.BigNumber(s).multipliedBy(e);return"".concat(d," ").concat(Object(S.b)(a.symbol)," (").concat(m.toFixed(2)," $)")}return"".concat(d," ").concat(Object(S.b)(a.symbol))},t._getMedianPriceStringForRender=function(){var e=t.state,n=e.canOrderBeFilled,r=e.price,a=t.props,o=a.tokenAmount,i=a.quoteToken,u=a.quoteState;if(u===E.o.Loading)return c.a.createElement(ue,null);if(!n||u===E.o.Error)return"---";if(o.eq(0))return"---";var l=r.toFormat(8);return"".concat(l," ").concat(Object(S.b)(i.symbol))},t._getCostLabelStringForRender=function(){var e=t.props;e.qouteInUSD,e.orderSide;return E.j.Sell,"You Receive"},t._getPriceMarketRender=function(){var e=t.props,n=e.quoteToken,r=e.quoteState,a=t.state.geckoPrice;return r===E.o.Error?"---":r===E.o.Loading?c.a.createElement(ue,null):a&&a.gt(0)?"".concat(a.toFormat(8)," ").concat(Object(S.b)(n.symbol)):"---"},t}return Object(M.a)(n,e),n}(c.a.Component),se=Object(j.c)((function(e){return{qouteInUSD:Object(k.mb)(e),quoteState:Object(k.Ab)(e),tokenPrices:Object(k.Gb)(e),web3State:Object(k.Sb)(e)}}),(function(e){return{onFetchTakerAndMakerFee:function(n,t,r){return e(Object(_.f)(n,t,r,r))}}}))(le);function de(){var e=Object(r.a)(["\n    padding: 8px;\n"]);return de=function(){return e},e}function me(){var e=Object(r.a)(["\n    color: ",";\n    font-size: 14px;\n    font-weight: normal;\n    line-height: 21px;\n    text-align: right;\n"]);return me=function(){return e},e}function be(){var e=Object(r.a)(["\n    display: flex;\n    position: absolute;\n    right: 14px;\n    top: 50%;\n    transform: translateY(-50%);\n    z-index: 12;\n"]);return be=function(){return e},e}function fe(){var e=Object(r.a)(["\n    background-color: ",";\n    border-radius: ",";\n    border: 1px solid ",";\n    color: ",";\n    font-feature-settings: 'tnum' 1;\n    font-size: 16px;\n    height: 100%;\n    padding-left: 14px;\n    padding-right: 60px;\n    position: absolute;\n    width: 100%;\n    z-index: 1;\n"]);return fe=function(){return e},e}function pe(){var e=Object(r.a)(["\n    height: ",";\n    margin-bottom: 5px;\n    position: relative;\n"]);return pe=function(){return e},e}function ge(){var e=Object(r.a)(["\n    color: ",";\n    font-size: 12px;\n    font-weight: normal;\n    line-height: normal;\n    margin: 0;\n"]);return ge=function(){return e},e}function he(){var e=Object(r.a)(["\n    color: ",";\n    font-size: 14px;\n    font-weight: bold;\n    line-height: normal;\n    margin: 0;\n"]);return he=function(){return e},e}function je(){var e=Object(r.a)(["\n    align-items: flex-end;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 5px;\n"]);return je=function(){return e},e}function Oe(){var e=Object(r.a)(["\n    align-items: flex-end;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 10px;\n"]);return Oe=function(){return e},e}function ve(){var e=Object(r.a)(["\n    align-items: center;\n    background-color: ",";\n    border-bottom-color: ",";\n    border-bottom-style: solid;\n    border-bottom-width: 1px;\n    border-right-color: ",";\n    border-right-style: solid;\n    border-right-width: 1px;\n    color: ",";\n    cursor: ",";\n    display: flex;\n    font-weight: 600;\n    height: 47px;\n    justify-content: center;\n    width: 50%;\n\n    &:first-child {\n        border-top-left-radius: ",";\n    }\n\n    &:last-child {\n        border-left-color: ",";\n        border-left-style: solid;\n        border-left-width: 1px;\n        border-right: none;\n        border-top-right-radius: ",";\n    }\n"]);return ve=function(){return e},e}function xe(){var e=Object(r.a)(["\n    align-items: center;\n    display: flex;\n    justify-content: space-between;\n"]);return xe=function(){return e},e}function ke(){var e=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n"]);return ke=function(){return e},e}function we(){var e=Object(r.a)(["\n    margin-bottom: ",";\n"]);return we=function(){return e},e}var Se=Object(o.c)(T.a)(we(),i.d.verticalSeparationSm),Ee=o.c.div(ke()),ye=(o.c.div(xe()),o.c.div(ve(),(function(e){return e.isSelected?"transparent":e.theme.componentsTheme.inactiveTabBackgroundColor}),(function(e){return e.isSelected?"transparent":e.theme.componentsTheme.cardBorderColor}),(function(e){return e.isSelected?e.theme.componentsTheme.cardBorderColor:"transparent"}),(function(e){return e.isSelected?e.side===E.j.Buy?e.theme.componentsTheme.green:e.theme.componentsTheme.red:e.theme.componentsTheme.textLight}),(function(e){return e.isSelected?"default":"pointer"}),i.d.borderRadius,(function(e){return e.isSelected?e.theme.componentsTheme.cardBorderColor:"transparent"}),i.d.borderRadius),o.c.div(Oe())),Ce=o.c.div(je()),Te=o.c.label(he(),(function(e){return e.color||e.theme.componentsTheme.textColorCommon})),Be=o.c.label(ge(),(function(e){return e.color||e.theme.componentsTheme.textColorCommon})),qe=o.c.div(pe(),i.d.fieldHeight),Ae=Object(o.c)(y.a)(fe(),(function(e){return e.theme.componentsTheme.textInputBackgroundColor}),i.d.borderRadius,(function(e){return e.theme.componentsTheme.textInputBorderColor}),(function(e){return e.theme.componentsTheme.textInputTextColor})),Fe=o.c.div(be()),Le=o.c.span(me(),(function(e){return e.theme.componentsTheme.textInputTextColor})),Pe=function(e){return c.a.createElement(Fe,null,c.a.createElement(Le,null,Object(S.b)(e.tokenSymbol)))},Me=Object(o.c)(C.a)(de()),_e=Object(j.c)((function(e){return{web3State:Object(k.Sb)(e),currencyPair:Object(k.r)(e),orderPriceSelected:Object(k.ib)(e),quoteTokenBalance:Object(k.Cb)(e),baseTokenBalance:Object(k.yb)(e),totalEthBalance:Object(k.Ib)(e)}}),(function(e){return{onSubmitSwapMarketOrder:function(n,t,r){return e(Object(x.Qc)(n,t,r))}}}))((function(e){var n=new URLSearchParams(Object(O.g)().search),t=n.get("token"),r=n.get("quoteToken"),o=n.get("side"),i=o?"sell"===o.toLocaleUpperCase()?E.j.Sell:E.j.Buy:E.j.Sell,u=Object(a.useState)(i),l=Object(g.a)(u,2),s=l[0],d=(l[1],Object(a.useState)({btnMsg:null,cardMsg:null})),m=Object(g.a)(d,2),f=m[0],y=m[1],T=Object(a.useState)(new h.BigNumber(0)),F=Object(g.a)(T,2),L=F[0],P=F[1],M=Object(a.useState)(new h.BigNumber(0)),_=Object(g.a)(M,2),D=_[0],z=_[1],N=e.web3State,I=e.quoteTokenBalance,R=e.baseTokenBalance,U=(e.totalEthBalance,Object(j.e)(k.zb)),V=Object(j.e)(k.Bb),W=Object(j.e)(k.xb),G=Object(j.e)(k.G),Y=Object(j.e)(k.Ab),H=Object(j.d)(),Z=W.decimals,Q=Object(w.a)();Object(a.useEffect)((function(){!function(){var e;p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:if(t.toLowerCase()!==W.symbol.toLowerCase()&&t.toLowerCase()!==W.address.toLowerCase()){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,p.a.awrap(Q.findTokenOrFetchIt(t));case 6:if(!(e=n.sent)){n.next=13;break}if(e!==W){n.next=12;break}return n.abrupt("return");case 12:H(Object(x.oc)(e));case 13:case"end":return n.stop()}}))}(),function(){var e;p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:if(r.toLowerCase()!==V.symbol.toLowerCase()&&r.toLowerCase()!==V.address.toLowerCase()){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,p.a.awrap(Q.findTokenOrFetchIt(r));case 6:if(!(e=n.sent)){n.next=13;break}if(e!==V){n.next=12;break}return n.abrupt("return");case 12:H(Object(x.rc)(e));case 13:case"end":return n.stop()}}))}()}),[t,W,V,r]);var J=new h.BigNumber(1).div(new h.BigNumber(10).pow(8)),$=Object(S.h)(String(J),Z),K=D,X=null===K||K.isZero(),ee=!1,ne=s===E.j.Sell;U&&I&&R&&(ee=ne?D.isGreaterThan(Object(w.e)(W.symbol)?G:R.balance):U.bestCaseQuoteInfo.takerAssetAmount.isGreaterThan(Object(w.e)(V.symbol)?G:I.balance));var te=X||ee,re=(Object(S.b)(W.symbol),s===E.j.Buy?"BUY ":"SWAP "),ae=f&&f.btnMsg?f.btnMsg:re,ce=function(e,n){var t=n===E.j.Sell,r=!t&&Object(w.e)(V.symbol)||t&&Object(w.e)(W.symbol);console.log(r);var a={buyTokenAddress:t?V.address:W.address,sellTokenAddress:t?W.address:V.address,buyAmount:t?void 0:e,sellAmount:t?e:void 0,from:void 0,isETHSell:r};N===E.q.Done&&(H(Object(x.f)(a)),H(Object(x.md)()))},oe=Object(q.a)(D,500);Object(a.useEffect)((function(){Y===E.o.Error?(y({cardMsg:"Error fetching quote",btnMsg:"Try again"}),setTimeout((function(){y(Object(b.a)({},f,{btnMsg:null}))}),2e3),setTimeout((function(){y(Object(b.a)({},f,{cardMsg:null}))}),4e3)):null!==f.cardMsg&&y({cardMsg:null,btnMsg:null})}),[Y]),Object(a.useEffect)((function(){oe&&ce(oe,s)}),[oe]),Object(a.useEffect)((function(){D.isGreaterThan(0)&&ce(D,s)}),[W]);var ie=f.btnMsg?E.d.Error:E.d.Buy;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,null,c.a.createElement(Ee,null,c.a.createElement(ye,null,c.a.createElement(Te,null,"Send:"),c.a.createElement(Me,{onClick:function(){D.isGreaterThan(0)&&ce(D,s)},variant:E.d.Primary}," ","\u27f3"," ")),c.a.createElement(qe,null,c.a.createElement(Ae,{decimals:Z,min:v.rb,onChange:function(e){z(e)},value:K,step:$,placeholder:new h.BigNumber(0).toString(),valueFixedDecimals:8}),c.a.createElement(Pe,{tokenSymbol:W.symbol})),c.a.createElement(A.a,null),c.a.createElement(Ce,null,c.a.createElement(Be,null,function(){if(s===E.j.Sell){if(R){var e=Object(w.e)(R.token.symbol)?G:R.balance,n=Object(S.e)(e,R.token.decimals,R.token.displayDecimals),t=Object(S.b)(R.token.symbol);return"Balance: ".concat(n,"  ").concat(t)}return null}if(I){var r=Object(w.e)(I.token.symbol)?G:I.balance,a=Object(S.e)(r,I.token.decimals,I.token.displayDecimals),c=Object(S.b)(I.token.symbol);return"Balance: ".concat(a,"  ").concat(c)}return null}())),c.a.createElement(se,{orderSide:s,tokenAmount:K,tokenPrice:L,baseToken:W,quoteToken:V,quote:U}),c.a.createElement(C.a,{disabled:N!==E.q.Done||te,icon:f.btnMsg?E.c.Warning:void 0,onClick:function(){var n,t;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=s,t=D,U){r.next=4;break}return r.abrupt("return");case 4:return r.prev=4,r.next=7,p.a.awrap(e.onSubmitSwapMarketOrder(t,n,U));case 7:r.next=15;break;case 9:r.prev=9,r.t0=r.catch(4),console.log(r.t0),y({btnMsg:"Error",cardMsg:r.t0.message}),setTimeout((function(){y(Object(b.a)({},f,{btnMsg:null}))}),2e3),setTimeout((function(){y(Object(b.a)({},f,{cardMsg:null}))}),4e3);case 15:z(new h.BigNumber(0)),P(new h.BigNumber(0));case 16:case"end":return r.stop()}}),null,null,[[4,9]])},variant:ie},ae))),f.cardMsg?c.a.createElement(B.a,{fontSize:B.c.Large,text:f.cardMsg}):null)}));function De(){var e=Object(r.a)(["\n    align-items: center;\n    justify-content: center;\n"]);return De=function(){return e},e}function ze(){var e=Object(r.a)(["\n    margin-left: 0;\n    &:last-child {\n        margin-left: 0;\n    }\n    @media (max-width: ",") {\n        width: 100%;\n    }\n    @media (min-width: ",") {\n        max-width: 100%;\n    }\n    @media (min-width: ",") {\n        max-width: 60%;\n    }\n"]);return ze=function(){return e},e}t.d(n,"default",(function(){return Re}));var Ne=Object(o.c)(d.a)(ze(),i.c.sm,i.c.md,i.c.lg),Ie=Object(o.c)(m.a)(De()),Re=function(){return c.a.createElement(Ie,null,c.a.createElement(Ne,null,c.a.createElement(_e,null)),c.a.createElement(s.a,null),c.a.createElement(u.a,null),c.a.createElement(l.a,null))}}}]);